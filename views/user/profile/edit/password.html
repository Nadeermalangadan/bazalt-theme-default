<h1>{{'Сменить пароль'|translate }}</h1>

<div class="alert alert-success" ng-if="changed">
    {{'Пароль успешно изменен'|translate }}
</div>

<form name="register" ng-submit="changePassword(profile)" class="registration form-horizontal">
    <div class="form-group" ng-class="{'error': errors.old_password}">
        <label class="control-label col-lg-3">{{'Текущий пароль'|translate }}</label>
        <div class="controls col-lg-9">
            <input class="form-control" type="password" required ng-model="profile.old_password" />
            <div class="help-block" ng-if="errors.old_password.invalid">{{'Вы указали неверный пароль'|translate }}</div>
        </div>
    </div>
    <div class="form-group" ng-class="{'error': errors.new_password}">
        <label class="control-label col-lg-3">{{'Новый пароль'|translate }}</label>
        <div class="controls col-lg-9">
            <input class="form-control" type="password" required ng-model="profile.new_password"/>
            <div class="help-block" ng-if="errors.new_password.invalid">{{'Вы указали неверный пароль'|translate }}</div>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-lg-3">{{'Повторите пароль'|translate }}</label>
        <div class="controls col-lg-9">
            <input class="form-control" type="password" required ng-model="profile.spassword">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-lg-3"></label>
        <div class="controls col-lg-9">
            <button ng-disabled="register.$invalid || loading || profile.new_password != profile.spassword" class="btn btn-primary">
                <span ng-hide="loading">{{'Сохранить'|translate }}</span>
                <span ng-show="loading">{{'Сохраняется'|translate }}...</span>
            </button>
        </div>
    </div>
</form>
